{"ast":null,"code":"import _regeneratorRuntime from \"/home/ravi/Desktop/Practice-APP/app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ravi/Desktop/Practice-APP/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/ravi/Desktop/Practice-APP/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ravi/Desktop/Practice-APP/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ravi/Desktop/Practice-APP/app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ravi/Desktop/Practice-APP/app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ravi/Desktop/Practice-APP/app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ravi/Desktop/Practice-APP/app/src/DemoPages/SolarDashboards/criticalAnalysis/index.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Row, Col, Button, CardHeader, Container, Card, CardBody, CardFooter, UncontrolledButtonDropdown, DropdownItem, DropdownMenu, DropdownToggle, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, FormText, CardTitle, Nav, NavItem, NavLink } from 'reactstrap';\nimport Rodal from 'rodal';\nimport DatePicker from 'react-datepicker';\nimport { VerticalTimeline, VerticalTimelineElement } from 'react-vertical-timeline-component';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport filterFactory, { textFilter } from 'react-bootstrap-table2-filter';\nimport CountUp from 'react-countup';\nimport ToolkitProvider, { CSVExport } from 'react-bootstrap-table2-toolkit';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport { Sparklines, SparklinesCurve } from 'react-sparklines';\nimport Ionicon from 'react-ionicons';\nimport PageTitle from '../../../Layout/AppMain/PageTitle';\nimport { faAngleUp, faAngleDown, faCalendarAlt, faEllipsisH, faCheck, faTrashAlt, faBusinessTime, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Select from 'react-select';\nimport moment from 'moment';\nimport { Redirect } from 'react-router-dom';\nimport { Bar } from 'react-chartjs-2';\nvar options = [{\n  value: '1',\n  label: 'Today'\n}, {\n  value: '2',\n  label: 'Week'\n}, {\n  value: '3',\n  label: 'Month'\n}, {\n  value: '4',\n  label: 'Yearly'\n}];\nvar yearoptions = [{\n  value: '2019',\n  label: '2019'\n}, {\n  value: '2020',\n  label: '2020'\n}];\nvar monthoptions = [{\n  value: '01',\n  label: 'Jan'\n}, {\n  value: '02',\n  label: 'Feb'\n}, {\n  value: '03',\n  label: 'Mar'\n}, {\n  value: '04',\n  label: 'Apr'\n}, {\n  value: '05',\n  label: 'May'\n}, {\n  value: '06',\n  label: 'Jun'\n}, {\n  value: '07',\n  label: 'Jul'\n}, {\n  value: '08',\n  label: 'Aug'\n}, {\n  value: '09',\n  label: 'Sep'\n}, {\n  value: '10',\n  label: 'Oct'\n}, {\n  value: '11',\n  label: 'Nov'\n}, {\n  value: '12',\n  label: 'Dec'\n}];\n\nvar CriticalAnalysis =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CriticalAnalysis, _Component);\n\n  function CriticalAnalysis() {\n    var _this;\n\n    _classCallCheck(this, CriticalAnalysis);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CriticalAnalysis).call(this));\n\n    _this.handleChange = function (selectedOption) {\n      if (selectedOption.value == 1) {\n        _this.setState({\n          yearvisible: false,\n          weeksvisible: false,\n          monthvisible: false,\n          yearselect: null\n        }, function () {\n          var dbl = ['Today'];\n\n          _this.setState({\n            datalabels: dbl\n          }, function () {\n            _this.callApi('today');\n          });\n        });\n      } else if (selectedOption.value == 2) {\n        _this.setState({\n          yearvisible: true,\n          monthvisible: false,\n          yearselect: null\n        });\n      } else if (selectedOption.value == 3) {\n        _this.setState({\n          yearvisible: true,\n          weeksvisible: false,\n          yearselect: null\n        });\n      } else if (selectedOption.value == 4) {\n        _this.setState({\n          yearvisible: true,\n          weeksvisible: false,\n          monthvisible: false,\n          yearselect: null\n        });\n      }\n\n      _this.setState({\n        selectedOption: selectedOption\n      });\n    };\n\n    _this.yearChange = function (yearselect) {\n      _this.setState({\n        yearselect: yearselect\n      });\n\n      var weeks = moment(yearselect).weeksInYear();\n      var weekoptions = [];\n      var monthoptions = [];\n\n      for (var i = 1; i <= weeks; i++) {\n        weekoptions.push({\n          value: i,\n          label: i\n        });\n      }\n\n      var month = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']; //console.log('year change',this.state.selectedOption);\n\n      if (_this.state.selectedOption.value == \"2\") {\n        _this.setState({\n          weekoptions: weekoptions,\n          weeksvisible: true\n        });\n      } else if (_this.state.selectedOption.value == \"3\") {\n        _this.setState({\n          monthvisible: true\n        });\n      } else if (_this.state.selectedOption.value == \"4\") {\n        _this.setState({\n          days: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n          datalabels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n        }, function () {\n          _this.callApi('year');\n        });\n      }\n    };\n\n    _this.weekChange = function (weekselect) {\n      _this.setState({\n        weekselect: weekselect\n      },\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var test;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.getDaysArray(_this.state.yearselect, weekselect);\n\n              case 2:\n                test = _context.sent;\n                console.log(test, _this.state.days);\n\n                _this.setState({\n                  days: test\n                }, function () {\n                  _this.callApi('week');\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })));\n    };\n\n    _this.monthChange = function (monthselect) {\n      _this.setState({\n        monthselect: monthselect\n      },\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var test;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.getMonthArray(_this.state.yearselect, monthselect);\n\n              case 2:\n                test = _context2.sent;\n                console.log(test);\n\n                _this.setState({\n                  days: test\n                }, function () {\n                  _this.callApi('month');\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      })));\n    };\n\n    _this.state = {\n      head: \"Critical Analysis\",\n      datalabels: ['Today'],\n      datavalues: [4],\n      selectedOption: null,\n      yearselect: null,\n      weekselect: null,\n      monthselect: null,\n      yearvisible: false,\n      weeksvisible: false,\n      monthvisible: false,\n      monthoptions: null,\n      weekoptions: [],\n      days: []\n    };\n    return _this;\n  }\n\n  _createClass(CriticalAnalysis, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var onload = {\n        value: \"1\",\n        label: \"Today\"\n      };\n      this.handleChange(onload);\n      console.log('test', new Date(moment('2019-01-3')).toDateString(), moment().year(2018).weeks(), new Date()); // var year = { value: \"2019\", label: \"2019\" }\n      // this.yearChange(year)\n\n      this.callApi('today');\n    }\n  }, {\n    key: \"callApi\",\n    value: function callApi(keydata) {\n      var _this2 = this;\n\n      var data = {};\n      data['key'] = keydata;\n\n      if (keydata === 'week' || keydata === 'month' || keydata === 'year') {\n        data['days'] = this.state.days;\n      }\n\n      fetch('/criticalData', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseData) {\n        console.log('BlocchainData', responseData);\n\n        if (responseData.code == 200) {\n          _this2.setState({\n            datavalues: responseData.filterData\n          }, function () {// this.dataresult();\n          });\n        } else {}\n      });\n    }\n  }, {\n    key: \"getDaysArray\",\n    value: function getDaysArray(y, w) {\n      // console.log(y, (w).toString())\n      var days = [1, 2, 3, 4, 5, 6, 7].map(function (d) {\n        return moment(y.value + '-' + w.value + '-' + d, 'YYYY-W-E');\n      }); // console.log(days);\n\n      var test = [];\n      var label = [];\n      days.map(function (day) {\n        test.push(new Date(day).toDateString());\n        var d = new Date(day);\n        var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n        var date = d.getDate() + '/' + months[d.getMonth()] + '/' + d.getFullYear();\n        label.push(date);\n      });\n      this.setState({\n        datalabels: label\n      });\n      return test;\n    }\n  }, {\n    key: \"getMonthArray\",\n    value: function getMonthArray(y, m) {\n      var days = moment(y.value + '-' + m.value, \"YYYY-MM\").daysInMonth();\n      var daysLabel = [];\n      var daysArr = [];\n\n      for (var i = 1; i <= days; i++) {\n        daysArr.push(new Date(moment(y.value + '-' + m.value + '-' + i)).toDateString());\n      }\n\n      daysArr.map(function (day) {\n        var d = new Date(day);\n        var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n        var date = d.getDate() + '/' + months[d.getMonth()] + '/' + d.getFullYear();\n        daysLabel.push(date);\n      });\n      this.setState({\n        datalabels: daysLabel\n      });\n      return daysArr; //console.log(daysArr, daysLabel)\n    }\n  }, {\n    key: \"getMonthArraybeakdown\",\n    value: function getMonthArraybeakdown(y, m) {\n      var days = moment(y.value + '-' + m, \"YYYY-MM\").daysInMonth();\n      var daysLabel = [];\n      var daysArr = [];\n\n      for (var i = 1; i <= days; i++) {\n        daysArr.push(new Date(moment(y.value + '-' + m + '-' + i)).toDateString());\n      }\n\n      daysArr.map(function (day) {\n        var d = new Date(day);\n        var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n        var date = d.getDate() + '/' + months[d.getMonth()] + '/' + d.getFullYear();\n        daysLabel.push(date);\n      });\n      return daysArr;\n    }\n  }, {\n    key: \"callBreakdown\",\n    value: function callBreakdown(date) {\n      var dt = '';\n      var prm = '';\n\n      if (date == 'Today') {\n        dt = new Date().toDateString();\n        window.location = '#/solar/criticalbreakdown/' + dt;\n      } else {\n        if (this.state.selectedOption.value == 4) {\n          dt = this.getMonthArraybeakdown(this.state.yearselect, date);\n          console.log('horray', prm);\n          window.location = '#/solar/criticalbreakdown/' + dt;\n        } else {\n          dt = new Date(date).toDateString();\n          window.location = '#/solar/criticalbreakdown/' + dt;\n        }\n      }\n\n      console.log(dt); //alert(dt)\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var selectedOption = this.state.selectedOption;\n      var _this$state = this.state,\n          yearselect = _this$state.yearselect,\n          weekselect = _this$state.weekselect,\n          monthselect = _this$state.monthselect;\n      var data = {\n        labels: this.state.datalabels,\n        datasets: [{\n          label: 'No. of Critical Product',\n          backgroundColor: 'rgba(255,99,132,0.2)',\n          borderColor: 'rgba(255,99,132,1)',\n          borderWidth: 1,\n          hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n          hoverBorderColor: 'rgba(255,99,132,1)',\n          borderCapStyle: 'round',\n          data: this.state.datavalues\n        }]\n      };\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, React.createElement(PageTitle, {\n        heading: this.state.head,\n        subheading: \"\",\n        icon: \"pe-7s-bandaid icon-gradient bg-amy-crisp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }), React.createElement(Container, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"main-card mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        className: \"card-header-tab \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"widget-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, \"Select Filter Type\"), React.createElement(\"span\", {\n        className: \"d-inline-block ml-2\",\n        style: {\n          width: 200,\n          marginBottom: '1%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, React.createElement(Select, {\n        value: selectedOption,\n        onChange: this.handleChange,\n        options: options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      })), this.state.yearvisible && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"widget-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, \"Select Year\"), React.createElement(\"span\", {\n        className: \"d-inline-block ml-2\",\n        style: {\n          width: 200,\n          marginBottom: '1%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, React.createElement(Select, {\n        value: yearselect,\n        onChange: this.yearChange,\n        options: yearoptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }))), this.state.weeksvisible && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"widget-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, \"Select Week\"), React.createElement(\"span\", {\n        className: \"d-inline-block ml-2\",\n        style: {\n          width: 200,\n          marginBottom: '1%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, React.createElement(Select, {\n        value: weekselect,\n        onChange: this.weekChange,\n        options: this.state.weekoptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }))), this.state.monthvisible && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"widget-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, \"Select Month\"), React.createElement(\"span\", {\n        className: \"d-inline-block ml-2\",\n        style: {\n          width: 200,\n          marginBottom: '1%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, React.createElement(Select, {\n        value: monthselect,\n        onChange: this.monthChange,\n        options: monthoptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }))))), React.createElement(Card, {\n        className: \"main-card mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        className: \"card-header-tab \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-header-title font-size-lg text-capitalize font-weight-normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"header-icon lnr-charts icon-gradient bg-happy-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }, \" \"), this.state.currentdate), React.createElement(\"div\", {\n        className: \"btn-actions-pane-right text-capitalize\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"d-inline-block ml-2\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }))), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, React.createElement(Bar, {\n        onElementsClick: function onElementsClick(elems) {\n          console.log(elems[0]._model.label);\n\n          _this3.callBreakdown(elems[0]._model.label); // window.location='#/solar/criticalbreakdown'\n\n        },\n        data: data,\n        width: 100,\n        height: 50,\n        options: {\n          maintainAspectRatio: true,\n          scales: {\n            yAxes: [{\n              ticks: {\n                beginAtZero: true\n              }\n            }]\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }))))))));\n    }\n  }]);\n\n  return CriticalAnalysis;\n}(Component);\n\nexport { CriticalAnalysis as default };","map":{"version":3,"sources":["/home/ravi/Desktop/Practice-APP/app/src/DemoPages/SolarDashboards/criticalAnalysis/index.js"],"names":["React","Component","Fragment","Row","Col","Button","CardHeader","Container","Card","CardBody","CardFooter","UncontrolledButtonDropdown","DropdownItem","DropdownMenu","DropdownToggle","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","Label","Input","FormText","CardTitle","Nav","NavItem","NavLink","Rodal","DatePicker","VerticalTimeline","VerticalTimelineElement","PerfectScrollbar","BootstrapTable","filterFactory","textFilter","CountUp","ToolkitProvider","CSVExport","paginationFactory","Sparklines","SparklinesCurve","Ionicon","PageTitle","faAngleUp","faAngleDown","faCalendarAlt","faEllipsisH","faCheck","faTrashAlt","faBusinessTime","faTimes","FontAwesomeIcon","Select","moment","Redirect","Bar","options","value","label","yearoptions","monthoptions","CriticalAnalysis","handleChange","selectedOption","setState","yearvisible","weeksvisible","monthvisible","yearselect","dbl","datalabels","callApi","yearChange","weeks","weeksInYear","weekoptions","i","push","month","state","days","weekChange","weekselect","getDaysArray","test","console","log","monthChange","monthselect","getMonthArray","head","datavalues","onload","Date","toDateString","year","keydata","data","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","responseData","code","filterData","y","w","map","d","day","months","date","getDate","getMonth","getFullYear","m","daysInMonth","daysLabel","daysArr","dt","prm","window","location","getMonthArraybeakdown","labels","datasets","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","borderCapStyle","width","marginBottom","currentdate","elems","_model","callBreakdown","maintainAspectRatio","scales","yAxes","ticks","beginAtZero"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport {\n    Row, Col,\n    Button,\n    CardHeader,\n    Container,\n    Card,\n    CardBody,\n    CardFooter,\n    UncontrolledButtonDropdown, DropdownItem, DropdownMenu, DropdownToggle, ModalHeader, ModalBody, ModalFooter, Form,\n    FormGroup, Label,\n    Input, FormText, CardTitle,\n    Nav,\n    NavItem,\n    NavLink,\n} from 'reactstrap';\n\nimport Rodal from 'rodal';\nimport DatePicker from 'react-datepicker';\nimport { VerticalTimeline, VerticalTimelineElement } from 'react-vertical-timeline-component';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport filterFactory, { textFilter } from 'react-bootstrap-table2-filter';\nimport CountUp from 'react-countup';\nimport ToolkitProvider, { CSVExport } from 'react-bootstrap-table2-toolkit';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport {\n    Sparklines,\n    SparklinesCurve\n} from 'react-sparklines';\n\nimport Ionicon from 'react-ionicons';\n\nimport PageTitle from '../../../Layout/AppMain/PageTitle';\n\nimport {\n    faAngleUp,\n    faAngleDown,\n    faCalendarAlt,\n    faEllipsisH,\n    faCheck,\n    faTrashAlt,\n    faBusinessTime,\n    faTimes\n} from '@fortawesome/free-solid-svg-icons';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport Select from 'react-select';\n\nimport moment from 'moment';\nimport { Redirect } from 'react-router-dom'\nimport { Bar } from 'react-chartjs-2';\n\nconst options = [\n    { value: '1', label: 'Today' },\n    { value: '2', label: 'Week' },\n    { value: '3', label: 'Month' },\n    { value: '4', label: 'Yearly' },\n];\nconst yearoptions = [\n    { value: '2019', label: '2019' },\n    { value: '2020', label: '2020' },\n];\nconst monthoptions = [\n    { value: '01', label: 'Jan' },\n    { value: '02', label: 'Feb' },\n    { value: '03', label: 'Mar' },\n    { value: '04', label: 'Apr' },\n    { value: '05', label: 'May' },\n    { value: '06', label: 'Jun' },\n    { value: '07', label: 'Jul' },\n    { value: '08', label: 'Aug' },\n    { value: '09', label: 'Sep' },\n    { value: '10', label: 'Oct' },\n    { value: '11', label: 'Nov' },\n    { value: '12', label: 'Dec' },\n];\n\n\n\nexport default class CriticalAnalysis extends Component {\n    constructor() {\n        super();\n\n        this.state = {\n            head: \"Critical Analysis\",\n            datalabels: ['Today'],\n            datavalues: [4],\n            selectedOption: null,\n            yearselect: null,\n            weekselect: null,\n            monthselect:null,\n            yearvisible: false,\n            weeksvisible: false,\n            monthvisible:false,\n            monthoptions:null,\n            weekoptions: [],\n            days:[]\n        };\n\n    }\n\n    componentDidMount() {\n        var onload = { value: \"1\", label: \"Today\" }\n        this.handleChange(onload)\n        console.log('test', (new Date(moment('2019-01-3'))).toDateString(), moment().year(2018).weeks(), new Date())\n        // var year = { value: \"2019\", label: \"2019\" }\n        // this.yearChange(year)\n        this.callApi('today')\n    }\n\n    callApi(keydata) {\n        var data = {}\n        data['key'] = keydata\n        if(keydata === 'week' || keydata === 'month' || keydata === 'year') {\n            data['days'] = this.state.days\n        }\n        fetch('/criticalData', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(data),\n        }).then((response) => response.json())\n            .then((responseData) => {\n                console.log('BlocchainData', responseData)\n                if (responseData.code == 200) {\n                    this.setState({\n                        datavalues: responseData.filterData\n                    }, () => {\n                        // this.dataresult();\n                    });\n                } else {\n\n                }\n\n            });\n    }\n\n    handleChange = (selectedOption) => {\n\n        if (selectedOption.value == 1) {\n            this.setState({\n                yearvisible: false,\n                weeksvisible: false,\n                monthvisible:false,\n                yearselect:null,\n                \n            }, () => {\n                \n                var dbl=['Today']\n                this.setState({\n                    datalabels:dbl\n                }, () => {\n                    this.callApi('today')\n                })\n            })\n        }else if (selectedOption.value == 2) {\n            this.setState({\n                yearvisible: true,\n                monthvisible:false,\n                yearselect:null,\n               \n            })\n        }else if (selectedOption.value == 3) {\n            this.setState({\n                yearvisible: true,\n                weeksvisible:false,\n                yearselect:null,\n                \n            })\n        }else if (selectedOption.value == 4) {\n            this.setState({\n                yearvisible: true,\n                weeksvisible:false,\n                monthvisible:false,\n                yearselect:null,\n                \n            })\n        }\n\n        this.setState({ selectedOption });\n    };\n\n    yearChange = (yearselect) => {\n\n        this.setState({ yearselect });\n        var weeks = moment(yearselect).weeksInYear()\n        var weekoptions = [];\n        var monthoptions =[];\n        for (var i = 1; i <= weeks; i++) {\n            weekoptions.push({ value: i, label: i });\n        }\n        var month =['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\n        //console.log('year change',this.state.selectedOption);\n        if(this.state.selectedOption.value == \"2\"){\n            this.setState({\n                weekoptions: weekoptions,\n                weeksvisible: true\n             })\n        }else if(this.state.selectedOption.value == \"3\"){\n            this.setState({\n                monthvisible: true\n             })\n        }else if(this.state.selectedOption.value == \"4\"){\n            this.setState({\n                days: [\"Jan\", \"Feb\", \"Mar\",\"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n                datalabels: [\"Jan\", \"Feb\", \"Mar\",\"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n            }, () => {\n                this.callApi('year')\n            })\n        }\n\n    };\n\n    getDaysArray(y, w) {\n        // console.log(y, (w).toString())\n        let days = [1, 2, 3, 4, 5, 6, 7]\n            .map(d => moment(y.value + '-' + w.value + '-' + d, 'YYYY-W-E'));\n        // console.log(days);\n        var test = []\n        var label = []\n        days.map(function (day) {\n            test.push((new Date(day)).toDateString())\n            var d = new Date(day)\n            const months = [\"Jan\", \"Feb\", \"Mar\",\"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n            var date = d.getDate() + '/' + months[d.getMonth()] + '/' + d.getFullYear() \n            label.push(date)\n        })\n        this.setState({\n            datalabels: label\n        })\n        return test\n    }\n\n\n    getMonthArray(y, m) {\n        var days = moment(y.value+'-'+m.value, \"YYYY-MM\").daysInMonth()\n        var daysLabel = []\n        var daysArr = []\n        for(var i =1; i <= days; i++) {\n            daysArr.push((new Date(moment(y.value+'-'+m.value+'-'+i))).toDateString())\n        }\n\n        daysArr.map(function (day) {\n            var d = new Date(day)\n            const months = [\"Jan\", \"Feb\", \"Mar\",\"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n            var date = d.getDate() + '/' + months[d.getMonth()] + '/' + d.getFullYear()\n            daysLabel.push(date)\n        })\n\n        this.setState({\n            datalabels: daysLabel\n        })\n\n        return daysArr\n        //console.log(daysArr, daysLabel)\n    }\n\n     getMonthArraybeakdown(y, m) {\n        var days = moment(y.value+'-'+m, \"YYYY-MM\").daysInMonth()\n        var daysLabel = []\n        var daysArr = []\n        for(var i =1; i <= days; i++) {\n            daysArr.push((new Date(moment(y.value+'-'+m+'-'+i))).toDateString())\n        }\n\n        daysArr.map(function (day) {\n            var d = new Date(day)\n            const months = [\"Jan\", \"Feb\", \"Mar\",\"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n            var date = d.getDate() + '/' + months[d.getMonth()] + '/' + d.getFullYear()\n            daysLabel.push(date)\n        })\n\n        return daysArr\n    }\n\n    weekChange = (weekselect) => {\n        this.setState({ weekselect }, async () => {\n            var test = await this.getDaysArray(this.state.yearselect, weekselect)\n            console.log(test, this.state.days);\n            this.setState({\n                days: test\n            }, () => {\n                this.callApi('week')\n            })\n        });\n\n    };\n\n    monthChange =(monthselect)=>{\n        this.setState({\n            monthselect\n        }, async () => {\n            var test = await this.getMonthArray(this.state.yearselect, monthselect)\n            console.log(test)\n            this.setState({\n                days: test\n            }, () => {\n                this.callApi('month')\n            })\n        })\n    }\n\n    callBreakdown(date){\n\n        var dt='';\n        var prm ='';\n\n\n        if(date == 'Today'){\n            dt = new Date().toDateString();\n            window.location='#/solar/criticalbreakdown/'+dt\n        }else{\n            if(this.state.selectedOption.value ==4){\n                dt = this.getMonthArraybeakdown(this.state.yearselect,date)\n                console.log('horray',prm)\n                window.location='#/solar/criticalbreakdown/'+dt\n            }else{\n                dt = new Date(date).toDateString();\n                window.location='#/solar/criticalbreakdown/'+dt\n            }\n        }\n        console.log(dt)\n        //alert(dt)\n        \n    }\n\n\n\n    render() {\n        const { selectedOption } = this.state;\n        const { yearselect,weekselect,monthselect } = this.state;\n        const data = {\n            labels: this.state.datalabels,\n            datasets: [\n                {\n                    label: 'No. of Critical Product',\n                    backgroundColor: 'rgba(255,99,132,0.2)',\n                    borderColor: 'rgba(255,99,132,1)',\n                    borderWidth: 1,\n                    hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n                    hoverBorderColor: 'rgba(255,99,132,1)',\n                    borderCapStyle: 'round',\n                    data: this.state.datavalues\n                }\n            ]\n        };\n        return (\n            <Fragment>\n                <PageTitle\n                    heading={this.state.head}\n                    subheading=\"\"\n                    icon=\"pe-7s-bandaid icon-gradient bg-amy-crisp\"\n                />\n                <Container fluid>\n                    <Row>\n                        <Col md=\"12\">\n                            <Card className=\"main-card mb-3\">\n                                <CardBody className=\"card-header-tab \">\n                                    <div className=\"widget-heading\">\n                                        Select Filter Type\n                                </div>\n                                    <span className=\"d-inline-block ml-2\" style={{ width: 200, marginBottom: '1%' }}>\n                                        <Select\n                                            value={selectedOption}\n                                            onChange={this.handleChange}\n                                            options={options}\n                                        />\n                                    </span>\n                                    {this.state.yearvisible &&\n                                        <div >\n                                            <div className=\"widget-heading\">\n                                                Select Year\n                                        </div>\n                                            <span className=\"d-inline-block ml-2\" style={{ width: 200, marginBottom: '1%' }}>\n                                                <Select\n                                                    value={yearselect}\n                                                    onChange={this.yearChange}\n                                                    options={yearoptions}\n                                                />\n                                            </span>\n                                        </div>\n                                    }\n                                    {this.state.weeksvisible &&\n                                        <div >\n                                            <div className=\"widget-heading\">\n                                                Select Week\n                                        </div>\n                                            <span className=\"d-inline-block ml-2\" style={{ width: 200, marginBottom: '1%' }}>\n                                                <Select\n                                                    value={weekselect}\n                                                    onChange={this.weekChange}\n                                                    options={this.state.weekoptions}\n                                                />\n                                            </span>\n                                        </div>\n                                    }\n                                    {this.state.monthvisible &&\n                                        <div >\n                                            <div className=\"widget-heading\">\n                                                Select Month\n                                        </div>\n                                            <span className=\"d-inline-block ml-2\" style={{ width: 200, marginBottom: '1%' }}>\n                                                <Select\n                                                    value={monthselect}\n                                                    onChange={this.monthChange}\n                                                    options={monthoptions}\n                                                />\n                                            </span>\n                                        </div>\n                                    }\n                                   \n\n                                </CardBody>\n                            </Card>\n                            <Card className=\"main-card mb-3\">\n                                <CardHeader className=\"card-header-tab \">\n                                    <div\n                                        className=\"card-header-title font-size-lg text-capitalize font-weight-normal\">\n                                        <i className=\"header-icon lnr-charts icon-gradient bg-happy-green\"> </i>\n                                        {this.state.currentdate}\n                                    </div>\n                                    <div className=\"btn-actions-pane-right text-capitalize\">\n                                        <span className=\"d-inline-block ml-2\" style={{ width: 200 }}>\n\n                                        </span>\n                                    </div>\n                                </CardHeader>\n                                <CardBody>\n                                    <div>\n                                        <Bar\n                                            onElementsClick={elems => {\n                                                console.log(elems[0]._model.label);\n                                                this.callBreakdown(elems[0]._model.label)\n                                              // window.location='#/solar/criticalbreakdown'\n                                            }}\n                                            data={data}\n                                            width={100}\n                                            height={50}\n                                            options={{\n                                                maintainAspectRatio: true,\n                                                scales: {\n                                                    yAxes: [{\n                                                        ticks: {\n                                                          beginAtZero: true\n                                                        }\n                                                    }]\n                                                }\n                                            }}\n                                        />\n                                    </div>\n                                </CardBody>\n                            </Card>\n                        </Col>\n                    </Row>\n                </Container>\n            </Fragment>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}