{"ast":null,"code":"import _classCallCheck from \"/home/ravi/Desktop/EEL-APP/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ravi/Desktop/EEL-APP/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ravi/Desktop/EEL-APP/app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ravi/Desktop/EEL-APP/app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ravi/Desktop/EEL-APP/app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ravi/Desktop/EEL-APP/app/src/DemoPages/SolarDashboards/Vendor/Components/analytics.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Row, Col, Button, CardHeader, Container, Card, CardBody, CardFooter, UncontrolledButtonDropdown, DropdownItem, DropdownMenu, DropdownToggle, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Rodal from 'rodal';\nimport { VerticalTimeline, VerticalTimelineElement } from 'react-vertical-timeline-component';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport CountUp from 'react-countup';\nimport { Sparklines, SparklinesCurve } from 'react-sparklines';\nimport Ionicon from 'react-ionicons';\nimport { Redirect } from 'react-router-dom';\nimport DatePicker from 'react-datepicker';\nimport { faAngleUp, faAngleDown, faCalendarAlt, faEllipsisH, faCheck, faTrashAlt, faBusinessTime, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Select from 'react-select';\nvar options = [{\n  value: '1',\n  label: 'Today'\n}, {\n  value: '2',\n  label: 'Yesterday'\n}, {\n  value: '3',\n  label: 'Select Date'\n}];\n\nfunction boxMullerRandom() {\n  var phase = false,\n      x1,\n      x2,\n      w,\n      z;\n  return function () {\n    if (phase = !phase) {\n      do {\n        x1 = 2.0 * Math.random() - 1.0;\n        x2 = 2.0 * Math.random() - 1.0;\n        w = x1 * x1 + x2 * x2;\n      } while (w >= 1.0);\n\n      w = Math.sqrt(-2.0 * Math.log(w) / w);\n      return x1 * w;\n    } else {\n      return x2 * w;\n    }\n  }();\n}\n\nfunction randomData() {\n  var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\n  return Array.apply(0, Array(n)).map(boxMullerRandom);\n}\n\nvar sampleData = randomData(10);\n\nvar AnalyticCards =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AnalyticCards, _Component);\n\n  function AnalyticCards() {\n    var _this;\n\n    _classCallCheck(this, AnalyticCards);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AnalyticCards).call(this));\n    _this.state = {\n      userdetails: '',\n      selectedOption: null,\n      data: [],\n      criticaldata: [],\n      Aknowledgedata: [],\n      pos: 0,\n      currentdate: '',\n      currentprod: '',\n      apidate: new Date(),\n      datepickervisible: false,\n      datepickerdate: new Date()\n    };\n\n    _this.handleChange = function (selectedOption) {\n      var today = new Date();\n      var date = new Date().getDate();\n      var month = new Date().getMonth() + 1;\n      var year = new Date().getFullYear();\n      var finaldate = \"Today \" + date + \"/\" + month + \"/\" + year;\n\n      if (selectedOption.value == 1) {\n        _this.setState({\n          currentdate: finaldate,\n          apidate: today\n        }, function () {\n          _this.callbApi();\n        });\n      } else if (selectedOption.value == 2) {\n        finaldate = \"Yesterday \" + (date - 1) + \"/\" + month + \"/\" + year;\n\n        _this.setState({\n          currentdate: finaldate,\n          apidate: today.setDate(today.getDate() - 1)\n        }, function () {\n          _this.callbApi();\n        });\n      } else if (selectedOption.value == 3) {\n        _this.showdatepicker();\n      } // else{\n      //     finaldate =\"Day Before Yesterday \"+(date-2)+\"/\"+month+\"/\"+year\n      //    this.setState({\n      //         currentdate:finaldate,\n      //         apidate:today.setDate(today.getDate()-1)\n      //     },()=>{\n      //         this.callbApi()\n      //     })\n      // }\n      //alert(JSON.stringify(selectedOption));\n\n\n      _this.setState({\n        selectedOption: selectedOption\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(AnalyticCards, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var userexist = JSON.parse(localStorage.getItem('user_data'));\n      this.setState({\n        userdetails: userexist\n      }, function () {\n        _this2.callbApi();\n      });\n      var onload = {\n        value: \"1\",\n        label: \"Today\"\n      };\n      this.handleChange(onload); //this.showdatepicker();\n      //this.callAPI()\n    }\n  }, {\n    key: \"showdatepicker\",\n    value: function showdatepicker() {\n      this.setState({\n        datepickervisible: true\n      });\n    }\n  }, {\n    key: \"hidedatepicker\",\n    value: function hidedatepicker() {\n      this.setState({\n        datepickervisible: false\n      });\n    }\n  }, {\n    key: \"setdatepickerdate\",\n    value: function setdatepickerdate() {\n      var _this3 = this;\n\n      var dt = this.state.datepickerdate;\n      var date = new Date(dt).getDate();\n      var month = new Date(dt).getMonth() + 1;\n      var year = new Date(dt).getFullYear();\n      var finaldate = \"Selected Date \" + date + \"/\" + month + \"/\" + year;\n      this.setState({\n        datepickervisible: false,\n        apidate: this.state.datepickerdate,\n        currentdate: finaldate\n      }, function () {\n        _this3.callbApi();\n      });\n    }\n  }, {\n    key: \"callbApi\",\n    value: function callbApi() {\n      var _this4 = this;\n\n      var data = {\n        'colVal': this.state.userdetails.user_id,\n        'date': this.state.apidate\n      };\n      console.log('analytics data', data);\n      fetch('/getUserData', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseData) {\n        console.log('BlocchainData', responseData);\n\n        if (responseData.code == 200) {\n          _this4.setState({\n            data: responseData.user_data\n          }, function () {\n            _this4.dataresult();\n          });\n        } else {}\n      });\n    }\n  }, {\n    key: \"dataresult\",\n    value: function dataresult() {\n      this.setState({\n        criticaldata: this.state.data.filter(function (o) {\n          return o.Record.criticalty === \"Critical\";\n        })\n      });\n      this.setState({\n        Aknowledgedata: this.state.data.filter(function (o) {\n          return o.Record.acknowledgement_details.acknowledgement_status === \"No\";\n        })\n      });\n      this.setState({\n        pos: this.state.data.map(function (item) {\n          return item.Record.purchase_order;\n        }).filter(function (value, index, self) {\n          return self.indexOf(value) === index;\n        }).length\n      });\n      console.log(this.state.pos);\n    }\n  }, {\n    key: \"showposdata\",\n    value: function showposdata(type) {\n      console.log(type);\n\n      if (type == \"pos\") {\n        //return <Redirect to='#/solar/details/pos'  />\n        window.location = \"#/solar/details/pos\";\n      } else if (type == \"critical\") {\n        //return <Redirect to='#/solar/details/critical'  />\n        window.location = \"#/solar/details/critical\";\n      } else if (type == \"pendingack\") {\n        //return <Redirect to='#/solar/details/pendingack'  />\n        window.location = \"#/solar/details/pendingack\";\n      }\n    }\n  }, {\n    key: \"callgraph\",\n    value: function callgraph(type) {\n      if (type == \"critical\") {\n        window.location = \"#/solar/vendorcriticalanalysis\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var selectedOption = this.state.selectedOption;\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(Container, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        className: \"card-header-tab z-index-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-header-title font-size-lg text-capitalize font-weight-normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"header-icon lnr-charts icon-gradient bg-happy-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \" \"), this.state.currentdate), React.createElement(\"div\", {\n        className: \"btn-actions-pane-right text-capitalize\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"d-inline-block ml-2\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(Select, {\n        value: selectedOption,\n        onChange: this.handleChange,\n        options: options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      })))), React.createElement(Row, {\n        className: \"no-gutters\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"6\",\n        md: \"3\",\n        xl: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card no-shadow rm-border bg-transparent widget-chart text-left card_click\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-wrapper rounded-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-wrapper-bg opacity-10 bg-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        className: \"lnr-inbox text-dark opacity-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"widget-chart-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"widget-subheading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"No of Products\"), React.createElement(\"div\", {\n        className: \"widget-numbers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, this.state.data.length))), React.createElement(\"div\", {\n        className: \"divider m-0 d-md-none d-sm-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"6\",\n        md: \"3\",\n        xl: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card no-shadow rm-border bg-transparent widget-chart text-left card_click\",\n        onClick: this.showposdata.bind(this, \"pos\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-wrapper rounded-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-wrapper-bg opacity-10 bg-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        className: \"lnr-tag text-dark opacity-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"widget-chart-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"widget-subheading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, \"POS\"), React.createElement(\"div\", {\n        className: \"widget-numbers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, this.state.pos))), React.createElement(\"div\", {\n        className: \"divider m-0 d-md-none d-sm-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"6\",\n        md: \"3\",\n        xl: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card no-shadow rm-border bg-transparent widget-chart text-left\",\n        onClick: this.showposdata.bind(this, \"critical\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-wrapper rounded-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-wrapper-bg opacity-9 bg-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        className: \"pe-7s-attention text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"widget-chart-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"widget-subheading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, \"Critical\"), React.createElement(\"div\", {\n        className: \"widget-numbers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, React.createElement(CountUp, {\n        start: 0,\n        end: this.state.criticaldata.length,\n        separator: \"\",\n        decimals: 0,\n        decimal: \",\",\n        prefix: \"\",\n        useEasing: false,\n        suffix: \"\",\n        duration: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"divider m-0 d-md-none d-sm-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      })), React.createElement(Col, {\n        sm: \"12\",\n        md: \"3\",\n        xl: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card no-shadow rm-border bg-transparent widget-chart text-left\",\n        onClick: this.showposdata.bind(this, \"pendingack\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-wrapper rounded-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-wrapper-bg opacity-9 bg-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        className: \"lnr-hourglass text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"widget-chart-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"widget-subheading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, \"Pending Aknowledgement\"), React.createElement(\"div\", {\n        className: \"widget-numbers text-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, React.createElement(CountUp, {\n        start: 0,\n        end: this.state.Aknowledgedata.length,\n        separator: \"\",\n        decimals: 0,\n        decimal: \".\",\n        prefix: \"\",\n        useEasing: false,\n        suffix: \"\",\n        duration: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }))))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"4\",\n        onClick: this.callgraph.bind(this, \"critical\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card mb-3 bg-primary widget-chart text-white card-border\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-wrapper rounded-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-wrapper-bg bg-white opacity-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        className: \"lnr-cog text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"widget-numbers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, \"Critical Analysis\"), React.createElement(\"div\", {\n        className: \"widget-description text-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"pl-2\",\n        style: {\n          fontSize: 30,\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, this.state.criticaldata.length))))), React.createElement(Rodal, {\n        visible: this.state.datepickervisible,\n        onClose: this.hidedatepicker.bind(this),\n        showMask: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }, \"Select Date\"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"main-card mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        inline: true,\n        selected: this.state.datepickerdate,\n        onChange: function onChange(e) {\n          _this5.setState({\n            datepickerdate: e\n          });\n        },\n        calendarClassName: \"no-shadow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }))))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"link\",\n        onClick: this.hidedatepicker.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.setdatepickerdate.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, \"Yes\")))));\n    }\n  }]);\n\n  return AnalyticCards;\n}(Component);\n\nexport { AnalyticCards as default };","map":{"version":3,"sources":["/home/ravi/Desktop/EEL-APP/app/src/DemoPages/SolarDashboards/Vendor/Components/analytics.js"],"names":["React","Component","Fragment","Row","Col","Button","CardHeader","Container","Card","CardBody","CardFooter","UncontrolledButtonDropdown","DropdownItem","DropdownMenu","DropdownToggle","ModalHeader","ModalBody","ModalFooter","Rodal","VerticalTimeline","VerticalTimelineElement","PerfectScrollbar","CountUp","Sparklines","SparklinesCurve","Ionicon","Redirect","DatePicker","faAngleUp","faAngleDown","faCalendarAlt","faEllipsisH","faCheck","faTrashAlt","faBusinessTime","faTimes","FontAwesomeIcon","Select","options","value","label","boxMullerRandom","phase","x1","x2","w","z","Math","random","sqrt","log","randomData","n","Array","apply","map","sampleData","AnalyticCards","state","userdetails","selectedOption","data","criticaldata","Aknowledgedata","pos","currentdate","currentprod","apidate","Date","datepickervisible","datepickerdate","handleChange","today","date","getDate","month","getMonth","year","getFullYear","finaldate","setState","callbApi","setDate","showdatepicker","userexist","JSON","parse","localStorage","getItem","onload","dt","user_id","console","fetch","method","headers","Accept","body","stringify","then","response","json","responseData","code","user_data","dataresult","filter","o","Record","criticalty","acknowledgement_details","acknowledgement_status","item","purchase_order","index","self","indexOf","length","type","window","location","width","showposdata","bind","callgraph","fontSize","fontWeight","hidedatepicker","e","setdatepickerdate"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport {\n    Row, Col,\n    Button,\n    CardHeader,\n    Container,\n    Card,\n    CardBody,\n    CardFooter,\n    UncontrolledButtonDropdown, DropdownItem, DropdownMenu, DropdownToggle,ModalHeader, ModalBody, ModalFooter\n} from 'reactstrap';\n\nimport Rodal from 'rodal';\nimport {VerticalTimeline, VerticalTimelineElement} from 'react-vertical-timeline-component';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport CountUp from 'react-countup';\nimport {\n    Sparklines,\n    SparklinesCurve\n} from 'react-sparklines';\n\nimport Ionicon from 'react-ionicons';\nimport  { Redirect } from 'react-router-dom'\n\nimport DatePicker from 'react-datepicker';\nimport {\n    faAngleUp,\n    faAngleDown,\n    faCalendarAlt,\n    faEllipsisH,\n    faCheck,\n    faTrashAlt,\n    faBusinessTime,\n    faTimes\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\n\nimport Select from 'react-select';\n\nconst options = [\n    {value: '1', label: 'Today'},\n    {value: '2', label: 'Yesterday'},\n    {value: '3', label: 'Select Date'},\n];\n\n\nfunction boxMullerRandom() {\n    let phase = false,\n        x1, x2, w, z;\n\n    return (function () {\n\n        if (phase = !phase) {\n            do {\n                x1 = 2.0 * Math.random() - 1.0;\n                x2 = 2.0 * Math.random() - 1.0;\n                w = x1 * x1 + x2 * x2;\n            } while (w >= 1.0);\n\n            w = Math.sqrt((-2.0 * Math.log(w)) / w);\n            return x1 * w;\n        } else {\n            return x2 * w;\n        }\n    })();\n}\n\nfunction randomData(n = 30) {\n    return Array.apply(0, Array(n)).map(boxMullerRandom);\n}\n\nconst sampleData = randomData(10);\n\n\nexport default class AnalyticCards extends Component {\n    constructor() {\n        super();\n\n    }\n\n    state = {\n        userdetails:'',\n        selectedOption: null,\n        data:[],\n        criticaldata:[],\n        Aknowledgedata:[],\n        pos:0,\n        currentdate:'',\n        currentprod:'',\n        apidate:new Date(),\n        datepickervisible:false,\n        datepickerdate:new Date(),\n    };\n\n    componentDidMount() {\n         var userexist =  JSON.parse(localStorage.getItem('user_data'));\n    this.setState({\n            userdetails: userexist\n        }, () => {\n            this.callbApi()\n        });\n    var onload ={value: \"1\", label: \"Today\"}\n     this.handleChange(onload)  \n     //this.showdatepicker();\n    //this.callAPI()\n    \n  }\n\n  showdatepicker() {\n        this.setState({\n            datepickervisible: true,\n        });\n    }\n\n    hidedatepicker() {\n        this.setState({datepickervisible: false});\n    }\n\n    setdatepickerdate(){\n\n        var dt = this.state.datepickerdate;\n        var date = new Date(dt).getDate();\n        var month = new Date(dt).getMonth() + 1;\n        var year = new Date(dt).getFullYear();\n\n        var finaldate = \"Selected Date \" + date + \"/\" + month + \"/\" + year\n\n        this.setState({\n            datepickervisible: false,\n            apidate:this.state.datepickerdate,\n            currentdate:finaldate\n        },()=>{\n                this.callbApi()\n        });\n\n    }\n\n  callbApi() {\n\n         var data={\n            'colVal':this.state.userdetails.user_id,\n            'date': this.state.apidate\n        }\n        console.log('analytics data',data);\n        \n        fetch('/getUserData', {\n        method: 'POST',\n        headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        },\n        body:JSON.stringify(data),\n        }).then((response) => response.json())\n        .then((responseData) => {\n        console.log('BlocchainData',responseData)\n        if(responseData.code == 200){\n            this.setState({\n                data:responseData.user_data\n            }, () => {\n                    this.dataresult();\n                });\n        }else {\n            \n        }\n      \n      \n    });\n\n  }\n\n    handleChange = (selectedOption) => {\n\n        var today = new Date();\n        var date = new Date().getDate();\n        var month = new Date().getMonth() + 1; \n        var year = new Date().getFullYear();\n\n        var finaldate =\"Today \"+date+\"/\"+month+\"/\"+year\n        if(selectedOption.value ==1){\n            this.setState({\n                currentdate:finaldate,\n                apidate:today\n            },()=>{\n                this.callbApi()\n            })\n        }else if(selectedOption.value ==2){\n            finaldate =\"Yesterday \"+(date-1)+\"/\"+month+\"/\"+year\n            this.setState({\n                currentdate:finaldate,\n                apidate:today.setDate(today.getDate()-1)\n            },()=>{\n                this.callbApi()\n            })\n        }else if(selectedOption.value ==3){\n            this.showdatepicker();\n        }\n        // else{\n        //     finaldate =\"Day Before Yesterday \"+(date-2)+\"/\"+month+\"/\"+year\n        //    this.setState({\n        //         currentdate:finaldate,\n        //         apidate:today.setDate(today.getDate()-1)\n        //     },()=>{\n        //         this.callbApi()\n        //     })\n        // }\n        //alert(JSON.stringify(selectedOption));\n        this.setState({selectedOption});\n    };\n\n    dataresult(){\n        this.setState({\n            criticaldata:this.state.data.filter(o=>o.Record.criticalty ===\"Critical\")\n        })\n        this.setState({\n            Aknowledgedata:this.state.data.filter(o=>o.Record.acknowledgement_details.acknowledgement_status ===\"No\")\n        })\n        this.setState({\n            pos:this.state.data.map(item => item.Record.purchase_order)\n            .filter((value, index, self) => self.indexOf(value) === index).length\n        })\n        console.log(this.state.pos)\n    }\n\n    showposdata(type){\n        console.log(type)\n        if(type==\"pos\"){\n            //return <Redirect to='#/solar/details/pos'  />\n            window.location=\"#/solar/details/pos\"\n        }\n       else if(type==\"critical\"){\n            //return <Redirect to='#/solar/details/critical'  />\n            window.location=\"#/solar/details/critical\"\n        }else if(type == \"pendingack\"){\n            //return <Redirect to='#/solar/details/pendingack'  />\n            window.location=\"#/solar/details/pendingack\"\n        }\n    }\n\n    callgraph(type){\n\n        if(type==\"critical\"){\n            window.location=\"#/solar/vendorcriticalanalysis\"\n        }\n    }\n\n\n    render() {\n        const {selectedOption} = this.state;\n\n        return (\n            <Fragment>\n                <Container fluid>\n                    <Card className=\"mb-3\">\n                        <CardHeader className=\"card-header-tab z-index-6\">\n                            <div\n                                className=\"card-header-title font-size-lg text-capitalize font-weight-normal\">\n                                <i className=\"header-icon lnr-charts icon-gradient bg-happy-green\"> </i>\n                                {this.state.currentdate}\n                            </div>\n                            <div className=\"btn-actions-pane-right text-capitalize\">\n                                    <span className=\"d-inline-block ml-2\" style={{width: 200}}>\n                                        <Select\n                                            value={selectedOption}\n                                            onChange={this.handleChange}\n                                            options={options}\n                                        />\n                                    </span>\n                            </div>\n                        </CardHeader>\n                        <Row className=\"no-gutters\">\n                            <Col sm=\"6\" md=\"3\" xl=\"3\">\n                                <div className=\"card no-shadow rm-border bg-transparent widget-chart text-left card_click\">\n                                    <div className=\"icon-wrapper rounded-circle\">\n                                        <div className=\"icon-wrapper-bg opacity-10 bg-warning\"/>\n                                        <i className=\"lnr-inbox text-dark opacity-8\"/>\n                                    </div>\n                                    <div className=\"widget-chart-content\">\n                                        <div className=\"widget-subheading\">\n                                            No of Products\n                                        </div>\n                                        <div className=\"widget-numbers\">\n                                            {this.state.data.length}\n                                        </div>\n                                       \n                                    </div>\n                                </div>\n                                <div className=\"divider m-0 d-md-none d-sm-block\"/>\n                            </Col>\n                            <Col sm=\"6\" md=\"3\" xl=\"3\">\n                                <div className=\"card no-shadow rm-border bg-transparent widget-chart text-left card_click\" onClick={this.showposdata.bind(this,\"pos\")}>\n                                    <div className=\"icon-wrapper rounded-circle\">\n                                        <div className=\"icon-wrapper-bg opacity-10 bg-warning\"/>\n                                        <i className=\"lnr-tag text-dark opacity-8\"/>\n                                    </div>\n                                    <div className=\"widget-chart-content\">\n                                        <div className=\"widget-subheading\">\n                                            POS\n                                        </div>\n                                        <div className=\"widget-numbers\">\n                                            {this.state.pos}\n                                        </div>\n                                       \n                                    </div>\n                                </div>\n                                <div className=\"divider m-0 d-md-none d-sm-block\"/>\n                            </Col>\n                            <Col sm=\"6\" md=\"3\" xl=\"3\">\n                                <div className=\"card no-shadow rm-border bg-transparent widget-chart text-left\" onClick={this.showposdata.bind(this,\"critical\")}>\n                                    <div className=\"icon-wrapper rounded-circle\">\n                                        <div className=\"icon-wrapper-bg opacity-9 bg-danger\"/>\n                                        <i className=\"pe-7s-attention text-white\"/>\n                                    </div>\n                                    <div className=\"widget-chart-content\">\n                                        <div className=\"widget-subheading\">\n                                            Critical\n                                        </div>\n                                        <div className=\"widget-numbers\">\n                                            <CountUp start={0}\n                                                     end={this.state.criticaldata.length}\n                                                     separator=\"\"\n                                                     decimals={0}\n                                                     decimal=\",\"\n                                                     prefix=\"\"\n                                                     useEasing={false}\n                                                     suffix=\"\"\n                                                     duration=\"0\"/>\n                                        </div>\n                    \n                                    </div>\n                                </div>\n                                <div className=\"divider m-0 d-md-none d-sm-block\"/>\n                            </Col>\n                            <Col sm=\"12\" md=\"3\" xl=\"3\">\n                                <div className=\"card no-shadow rm-border bg-transparent widget-chart text-left\" onClick={this.showposdata.bind(this,\"pendingack\")}>\n                                    <div className=\"icon-wrapper rounded-circle\">\n                                        <div className=\"icon-wrapper-bg opacity-9 bg-success\"/>\n                                        <i className=\"lnr-hourglass text-white\"/>\n                                    </div>\n                                    <div className=\"widget-chart-content\">\n                                        <div className=\"widget-subheading\">\n                                            Pending Aknowledgement\n                                        </div>\n                                        <div className=\"widget-numbers text-success\">\n                                            <CountUp start={0}\n                                                     end={this.state.Aknowledgedata.length}\n                                                     separator=\"\"\n                                                     decimals={0}\n                                                     decimal=\".\"\n                                                     prefix=\"\"\n                                                     useEasing={false}\n                                                     suffix=\"\"\n                                                     duration=\"0\"/>\n                                        </div>\n                                       \n                                    </div>\n                                </div>\n                            </Col>\n                        </Row>\n                    </Card>\n                     <Row>\n                            <Col md=\"4\" onClick={this.callgraph.bind(this,\"critical\")}>\n                                <div className=\"card mb-3 bg-primary widget-chart text-white card-border\">\n                                    <div className=\"icon-wrapper rounded-circle\">\n                                        <div className=\"icon-wrapper-bg bg-white opacity-1\"/>\n                                        <i className=\"lnr-cog text-white\"/>\n                                    </div>\n                                    <div className=\"widget-numbers\">\n                                        Critical Analysis\n                                    </div>\n                                    \n                                    <div className=\"widget-description text-success\">\n                                        \n                                        <span className=\"pl-2\" style={{fontSize:30,fontWeight:'bold'}}>{this.state.criticaldata.length}</span>\n                                    </div>\n                                </div>\n                            </Col>\n                    </Row>\n                    <Rodal visible={this.state.datepickervisible}\n                        onClose={this.hidedatepicker.bind(this)}\n                        showMask={false}\n                    >\n                        <ModalHeader>Select Date</ModalHeader>\n                        <ModalBody>\n                        <Card className=\"main-card mb-3\">\n                                <CardBody>\n                                    <div className=\"text-center\">\n                                        <DatePicker\n                                            inline\n                                            selected={this.state.datepickerdate}\n                                            onChange={(e) => {\n                                                            this.setState({\n                                                                datepickerdate: e\n                                                            })\n                                                        }}\n                                            calendarClassName=\"no-shadow\"\n                                        />\n                                    </div>\n                                </CardBody>\n                        </Card>\n                        </ModalBody>\n                        <ModalFooter>\n                            <Button color=\"link\" onClick={this.hidedatepicker.bind(this)}>Cancel</Button>\n                            <Button color=\"primary\" onClick={this.setdatepickerdate.bind(this)}>Yes</Button>\n                        </ModalFooter> \n                    </Rodal>\n                </Container>\n            </Fragment>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}